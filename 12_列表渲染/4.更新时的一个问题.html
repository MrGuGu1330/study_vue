<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>更新时的一个问题</title>
  <!-- 引入Vue -->
  <script type="text/javascript" src="../js/vue.js"></script>
</head>
<body>
<!-- 容器 -->
<div id="root">
  <h2>人员列表</h2>
  <button @click="updateMei">更新马冬梅</button>
  <ul>
    <li v-for="(p,index) of persons" :key="p.id">
      {{p.name}}---{{p.age}}----{{p.sex}}
    </li>
  </ul>
</div>

<script type="text/javascript">
  Vue.config.productionTip = false; //阻止vue启动时生成提示
  // 用computed实现

  new Vue({
    el: '#root',
    data: {
      keyword:'',
      sortType:0,  //0原顺序 1升序 2降序
      persons: [
        {id: '001', name: '马冬梅', age: 24,sex: '女'},
        {id: '002', name: '周冬雨', age: 19,sex: '女'},
        {id: '003', name: '周杰伦', age: 30,sex: '男'},
        {id: '004', name: '温兆伦', age: 20,sex: '男'},
      ],
    },
    methods:{
      updateMei(){
        /*this.persons[0].name = '马拉松'
        this.persons[0].age = 50
        this.persons[0].sex = '男'*/
        this.persons[0] = { name:'马老师',age:29,sex:'男' }
      }
    }
  })

  // watch 实现
/*  new Vue({
    el: '#root',
    data: {
      keyword:'',
      persons: [
        {id: '001', name: '马冬梅', age: 18,sex: '女'},
        {id: '002', name: '周冬雨', age: 19,sex: '女'},
        {id: '003', name: '周杰伦', age: 20,sex: '男'},
        {id: '004', name: '温兆伦', age: 20,sex: '男'},
      ],
      filPersons:[]

    },
    watch:{
      keyword: {
        immediate: true,
        handler(newValue){
          // console.log('keyword被修改', this.keyword)
          this.filPersons = this.persons.filter((p)=>{
            return p.name.indexOf(newValue) !== -1
          })
        }
      }
    }
  })*/
</script>
</body>
</html>